<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Records - The Mountain Goat Farm</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="farm-records.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1>The Mountain Goat Farm - Health Records</h1>
            </div>
            <button class="hamburger" id="hamburger-btn" aria-label="Open navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Public Site</a></li>
                <li><a href="farm-records.html">Dashboard</a></li>
                <li><a href="goat-records.html">Goat Records</a></li>
                <li><a href="breeding-records.html">Breeding Records</a></li>
                <li><a href="meat-production.html">Meat Production</a></li>
                <li><a href="products-management.html">Products</a></li>
                <li><a href="feed-schedule.html">Feed Schedule</a></li>
                <li><a href="health-records.html" class="active">Health Records</a></li>
                <li><a href="contact-management.html">Contacts</a></li>
                <li><a href="task-manager.html">Tasks</a></li>
                <li><a href="reminders.html">Reminders</a></li>
                <li><a href="financial-records.html">Financials</a></li>
                <li><a href="sales-records.html">Sales</a></li>
                <li><a href="crop-management.html">Crops</a></li>
                <li><button id="logout-btn">Logout</button></li>
            </ul>
        </nav>
    </header>

    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <h2>Farm Records Login</h2>
            <form id="login-form">
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p class="login-note">Default: admin / farm2024</p>
        </div>
    </div>

    <main id="main-content" style="display: none;">
        <!-- Health Records -->
        <section id="health-records" class="records-section">
            <div class="container">
                <h2>Health Records</h2>
                
                <div class="health-tabs">
                    <button class="tab-btn active" data-tab="health-status">Health Status</button>
                    <button class="tab-btn" data-tab="vaccination">Vaccination Records</button>
                    <button class="tab-btn" data-tab="treatment">Treatment History</button>
                    <button class="tab-btn" data-tab="veterinary">Veterinary Visits</button>
                    <button class="tab-btn" data-tab="medication">Medication Log</button>
                </div>

                <div id="health-status-tab" class="tab-content active">
                    <div class="health-overview">
                        <div class="health-stats">
                            <div class="stat-card healthy">
                                <h3>Healthy Goats</h3>
                                <p class="stat-number" id="healthy-count">0</p>
                            </div>
                            <div class="stat-card warning">
                                <h3>Under Treatment</h3>
                                <p class="stat-number" id="treatment-count">0</p>
                            </div>
                            <div class="stat-card critical">
                                <h3>Critical Condition</h3>
                                <p class="stat-number" id="critical-count">0</p>
                            </div>
                            <div class="stat-card quarantine">
                                <h3>Quarantined</h3>
                                <p class="stat-number" id="quarantine-count">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="health-alerts">
                        <h3>Health Alerts</h3>
                        <div class="alert-list" id="health-alerts-list">
                            <!-- Health alerts will be populated here -->
                        </div>
                    </div>

                    <div class="goat-health-grid">
                        <h3>Individual Goat Health Status</h3>
                        <div class="health-filter">
                            <select id="health-status-filter">
                                <option value="">All Goats</option>
                                <option value="healthy">Healthy</option>
                                <option value="sick">Sick</option>
                                <option value="treatment">Under Treatment</option>
                                <option value="quarantine">Quarantined</option>
                            </select>
                        </div>
                        <div class="goat-health-cards" id="goat-health-cards">
                            <!-- Goat health cards will be populated here -->
                        </div>
                    </div>
                </div>

                <div id="vaccination-tab" class="tab-content">
                    <button id="add-vaccination-btn" class="btn-primary">Record Vaccination</button>
                    <div class="vaccination-schedule">
                        <h3>Vaccination Schedule</h3>
                        <div class="schedule-grid">
                            <div class="schedule-item">
                                <h4>CDT (Clostridium)</h4>
                                <p>Every 6 months</p>
                                <span class="next-due">Next: Calculate based on records</span>
                            </div>
                            <div class="schedule-item">
                                <h4>Pneumonia</h4>
                                <p>Annually</p>
                                <span class="next-due">Next: Calculate based on records</span>
                            </div>
                            <div class="schedule-item">
                                <h4>Rabies</h4>
                                <p>Annually</p>
                                <span class="next-due">Next: Calculate based on records</span>
                            </div>
                        </div>
                    </div>
                    <div class="records-table">
                        <table id="vaccination-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Goat ID</th>
                                    <th>Goat Name</th>
                                    <th>Vaccine Type</th>
                                    <th>Batch Number</th>
                                    <th>Veterinarian</th>
                                    <th>Next Due</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="vaccination-tbody">
                                <!-- Vaccination records will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="treatment-tab" class="tab-content">
                    <button id="add-treatment-btn" class="btn-primary">Record Treatment</button>
                    <div class="records-table">
                        <table id="treatment-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Goat ID</th>
                                    <th>Goat Name</th>
                                    <th>Condition</th>
                                    <th>Treatment</th>
                                    <th>Medication</th>
                                    <th>Dosage</th>
                                    <th>Duration</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="treatment-tbody">
                                <!-- Treatment records will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="veterinary-tab" class="tab-content">
                    <button id="add-vet-visit-btn" class="btn-primary">Record Vet Visit</button>
                    <div class="records-table">
                        <table id="vet-visits-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Veterinarian</th>
                                    <th>Visit Type</th>
                                    <th>Goats Examined</th>
                                    <th>Findings</th>
                                    <th>Recommendations</th>
                                    <th>Cost (KSh)</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="vet-visits-tbody">
                                <!-- Vet visits will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="medication-tab" class="tab-content">
                    <button id="add-medication-btn" class="btn-primary">Log Medication</button>
                    <div class="medication-inventory">
                        <h3>Medication Inventory</h3>
                        <div class="inventory-grid" id="medication-inventory">
                            <!-- Medication inventory will be populated here -->
                        </div>
                    </div>
                    <div class="records-table">
                        <table id="medication-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Goat ID</th>
                                    <th>Goat Name</th>
                                    <th>Medication</th>
                                    <th>Dosage</th>
                                    <th>Administration Method</th>
                                    <th>Administered By</th>
                                    <th>Next Dose</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="medication-tbody">
                                <!-- Medication logs will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add/Edit Vaccination Modal -->
    <div id="vaccination-modal" class="modal">
        <div class="modal-content">
            <h2>Record Vaccination</h2>
            <form id="vaccination-form">
                <input type="hidden" id="vaccination-id">
                <input type="date" id="vaccination-date" required>
                <select id="vaccination-goat" required>
                    <option value="">Select Goat</option>
                </select>
                <select id="vaccine-type" required>
                    <option value="">Select Vaccine</option>
                    <option value="CDT">CDT (Clostridium)</option>
                    <option value="Pneumonia">Pneumonia</option>
                    <option value="Rabies">Rabies</option>
                    <option value="Other">Other</option>
                </select>
                <input type="text" id="vaccine-custom" placeholder="Specify vaccine" style="display: none;">
                <input type="text" id="batch-number" placeholder="Batch Number">
                <input type="text" id="veterinarian" placeholder="Veterinarian">
                <input type="date" id="next-vaccination-due" placeholder="Next Due Date">
                <textarea id="vaccination-notes" placeholder="Notes"></textarea>
                <div class="modal-buttons">
                    <button type="submit">Save Vaccination</button>
                    <button type="button" id="vaccination-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add/Edit Treatment Modal -->
    <div id="treatment-modal" class="modal">
        <div class="modal-content">
            <h2>Record Treatment</h2>
            <form id="treatment-form">
                <input type="hidden" id="treatment-id">
                <input type="date" id="treatment-date" required>
                <select id="treatment-goat" required>
                    <option value="">Select Goat</option>
                </select>
                <input type="text" id="condition" placeholder="Condition/Diagnosis" required>
                <textarea id="treatment-description" placeholder="Treatment Description" required></textarea>
                <input type="text" id="medication-prescribed" placeholder="Medication">
                <input type="text" id="dosage" placeholder="Dosage">
                <input type="number" id="treatment-duration" placeholder="Duration (days)">
                <select id="treatment-status" required>
                    <option value="">Treatment Status</option>
                    <option value="ongoing">Ongoing</option>
                    <option value="completed">Completed</option>
                    <option value="discontinued">Discontinued</option>
                </select>
                <input type="number" id="treatment-cost" placeholder="Treatment Cost (KSh)" step="0.01">
                <textarea id="treatment-notes" placeholder="Additional Notes"></textarea>
                <div class="modal-buttons">
                    <button type="submit">Save Treatment</button>
                    <button type="button" id="treatment-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add/Edit Vet Visit Modal -->
    <div id="vet-visit-modal" class="modal">
        <div class="modal-content">
            <h2>Record Veterinary Visit</h2>
            <form id="vet-visit-form">
                <input type="hidden" id="vet-visit-id">
                <input type="date" id="vet-visit-date" required>
                <input type="text" id="vet-name" placeholder="Veterinarian Name" required>
                <select id="visit-type" required>
                    <option value="">Visit Type</option>
                    <option value="routine">Routine Checkup</option>
                    <option value="emergency">Emergency</option>
                    <option value="vaccination">Vaccination</option>
                    <option value="breeding">Breeding Consultation</option>
                    <option value="surgery">Surgery</option>
                </select>
                <textarea id="vet-findings" placeholder="Findings/Observations" required></textarea>
                <textarea id="vet-recommendations" placeholder="Recommendations"></textarea>
                <input type="number" id="vet-cost" placeholder="Visit Cost (KSh)" step="0.01">
                <textarea id="vet-notes" placeholder="Additional Notes"></textarea>
                <div class="modal-buttons">
                    <button type="submit">Save Visit</button>
                    <button type="button" id="vet-visit-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add/Edit Medication Modal -->
    <div id="medication-modal" class="modal">
        <div class="modal-content">
            <h2>Log Medication</h2>
            <form id="medication-form">
                <input type="hidden" id="medication-log-id">
                <input type="date" id="medication-date" required>
                <select id="medication-goat" required>
                    <option value="">Select Goat</option>
                </select>
                <input type="text" id="medication-name" placeholder="Medication Name" required>
                <input type="text" id="medication-dosage" placeholder="Dosage" required>
                <select id="administration-method" required>
                    <option value="">Administration Method</option>
                    <option value="oral">Oral</option>
                    <option value="injection">Injection</option>
                    <option value="topical">Topical</option>
                    <option value="intravenous">Intravenous</option>
                </select>
                <input type="text" id="administered-by" placeholder="Administered By" required>
                <input type="datetime-local" id="next-dose" placeholder="Next Dose">
                <textarea id="medication-notes" placeholder="Notes"></textarea>
                <div class="modal-buttons">
                    <button type="submit">Save Medication Log</button>
                    <button type="button" id="medication-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="farm-records.js"></script>
</body>
</html>
